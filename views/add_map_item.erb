<%= erb :header %>
<%= erb :leaflet %>
<style>
 body {
    background-image: none;
 }
 nav {
    background-size: cover;
    z-index: 999;
    background-position: center;
    width: 100%;
    height: 100%;
    background-image:url('/Posidonia.png');
}
div nav {
    z-index: 1000;
}
</style>
</head>
<body>
<%= erb :navbar %>
<hr>
<div class="w-screen h-[90.5vh]" id="map_id"></div>
<script>
    let sonuclar = [];

    var setViewLatLng = new L.LatLng(38.670766, 26.746846);
    var map = L.map('map_id').setView(setViewLatLng, 9)
    let googleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
        maxZoom: 30,
        attribution: 'Posidonia Oceinaca Koruma HaritasÄ± | &copy; 2024. All rights reserved.',
        subdomains: ['mt0', 'mt1', 'mt2', 'mt3']
    });
    googleSat.addTo(map)
    map.on('click', function(e){
        var coord = e.latlng;
        var lat = coord.lat;
        var lng = coord.lng;
        var marker = L.marker([lat, lng]).addTo(map);
        var popup = L.popup()
            .setContent(`Enlem: ${lat} | Boylam: ${lng}`)
        marker.bindPopup(popup).openPopup();

        sonuclar.push([lat, lng]);

    });
</script>
</body>
</html>
